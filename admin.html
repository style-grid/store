<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StyleGrid Admin Panel - Card Code Generator</title>
    <style>
        /* ======================================= */
        /* === ADMIN PANEL STYLES === */
        /* ======================================= */
        :root {
            --primary-color: #333333;
            --accent-color: #FF6F61;
            --bg-color: #f4f7f6;
            --container-bg: #FFFFFF;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg-color); padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: var(--container-bg); padding: 30px; border-radius: 8px; box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1); }
        h1 { text-align: center; color: var(--primary-color); border-bottom: 2px solid #eee; padding-bottom: 15px; margin-bottom: 30px; }
        .form-group { margin-bottom: 25px; border: 1px solid #f0f0f0; padding: 15px; border-radius: 6px; }
        label { display: block; margin-bottom: 8px; font-weight: 700; color: #555; }
        input[type="text"], input[type="number"], select, textarea { 
            width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; 
            transition: border-color 0.3s, box-shadow 0.3s; 
        }
        input:focus, select:focus, textarea:focus { border-color: var(--accent-color); box-shadow: 0 0 5px rgba(255, 111, 97, 0.5); outline: none; }
        textarea { resize: vertical; min-height: 100px; }
        
        .generate-btn { 
            padding: 12px 25px; background-color: var(--accent-color); color: white; border: none; 
            border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold; transition: background-color 0.3s; 
            width: 100%; 
        }
        .generate-btn:hover { background-color: #e55a4e; }
        
        .json-output { margin-top: 40px; border-top: 2px solid #eee; padding-top: 20px; }
        #jsonCode { 
            background: #f0f0f0; border: 1px solid #ddd; padding: 15px; border-radius: 4px; 
            font-family: monospace; white-space: pre-wrap; word-break: break-all; 
            max-height: 400px; overflow-y: auto; 
        }
        .copy-btn { padding: 8px 15px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; float: right; margin-left: 10px; transition: background-color 0.3s; }
        .copy-btn:hover { background-color: #1e7e34; }
        .alert-success { padding: 10px; margin-top: 10px; border-radius: 4px; background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; display: none; }
        .id-display { font-weight: bold; color: #007bff; font-size: 1.1em; }
    </style>
</head>
<body>
    <div class="container">
        <h1>StyleGrid: New Card Code Generator</h1>

        <div class="form-group">
            <label for="idDisplay">Generated Unique Card ID (6 Characters):</label>
            <span id="idDisplay" class="id-display">-- Click Generate --</span>
        </div>

        <div class="form-group">
            <label for="categorySelect">Select Target Category File (Drop-down filter):</label>
            <select id="categorySelect">
                <optgroup label="Male Categories">
                    <option value="male_tshirts.json">Men's T-Shirts</option>
                    <option value="male_pants.json">Men's Pants</option>
                    <option value="male_outerwear.json">Men's Outerwear (Jackets/Hoodies)</option>
                    <option value="male_shoes.json">Men's Shoes</option>
                    <option value="male_accessories.json">Men's Accessories (Watches/Belts)</option>
                </optgroup>
                <optgroup label="Female Categories">
                    <option value="female_dresses.json">Women's Dresses</option>
                    <option value="female_tops.json">Women's Tops & Blouses</option>
                    <option value="female_bottoms.json">Women's Jeans & Leggings</option>
                    <option value="female_activewear.json">Women's Activewear (Yoga/Gym)</option>
                    <option value="female_jewelry.json">Women's Jewelry & Bags</option>
                </optgroup>
            </select>
            <small>Select the specific JSON file where this code should be pasted (e.g., in data/male_tshirts.json)</small>
        </div>

        <div class="form-group">
            <label for="titleInput">Product Title:</label>
            <input type="text" id="titleInput" placeholder="e.g., Slim Fit Distressed Denim Jeans" required>
        </div>

        <div class="form-group">
            <label for="descriptionInput">Product Full Description (Online Shopping Detail):</label>
            <textarea id="descriptionInput" placeholder="Detailed description, material info, washing instructions, and fit details. This appears on the full detail page." required></textarea>
        </div>

        <div class="form-group">
            <label for="imagesInput">Image Links (Multiple links must be separated by a comma: link1.jpg, link2.jpg):</label>
            <textarea id="imagesInput" placeholder="Paste all image URLs here (min 1, max 4 recommended)" required></textarea>
        </div>

        <div class="form-group">
            <label for="ratingInput">Rating (0.0 to 5.0):</label>
            <input type="number" id="ratingInput" min="0.0" max="5.0" step="0.1" value="4.5" required>
        </div>

        <div class="form-group">
            <label for="reviewCountInput">Review Count:</label>
            <input type="number" id="reviewCountInput" min="0" value="100" required>
        </div>

        <div class="form-group">
            <label for="affiliateLinkInput">Affiliate Link (Target link for 'ORDER NOW'):</label>
            <input type="text" id="affiliateLinkInput" placeholder="https://www.amazon.com/dp/B0XXXXXXXXX/tag=your-id" required>
        </div>
        
        <button class="generate-btn" onclick="generateJson()">Generate & Prepare JSON Code</button>

        <div class="json-output">
            <label>Generated JSON Code (Copy this code, including the surrounding curly braces):</label>
            <button class="copy-btn" onclick="copyJson()">Copy Code</button>
            <pre id="jsonCode">{ "id": "XXXXXX", ... }</pre>
            <div id="copyAlert" class="alert-success">JSON Code Copied! Now paste it at the START of your selected data/*.json file.</div>
        </div>
    </div>

    <script>
        // Unique ID Generator: 6-Character Professional ID
        function generateUniqueId() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let result = '';
            for (let i = 0; i < 6; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        // Main function to generate the JSON object
        function generateJson() {
            const uniqueId = generateUniqueId();
            const categoryFile = document.getElementById('categorySelect').value;
            const title = document.getElementById('titleInput').value;
            const description = document.getElementById('descriptionInput').value;
            const imagesRaw = document.getElementById('imagesInput').value;
            const rating = parseFloat(document.getElementById('ratingInput').value);
            const reviewCount = parseInt(document.getElementById('reviewCountInput').value);
            const affiliateLink = document.getElementById('affiliateLinkInput').value;

            // Prepare image array
            const images = imagesRaw.split(',').map(url => url.trim()).filter(url => url.length > 0);
            
            // Determine the category key from the file name
            let categoryKey = categoryFile.replace('data/', '').replace('.json', '');
            
            const cardData = {
                "id": uniqueId,
                "category": categoryKey,
                "title": title,
                "description": description, // Added for detail view
                "images": images,
                "rating": rating,
                "review_count": reviewCount,
                "affiliate_link": affiliateLink
            };

            const jsonString = JSON.stringify(cardData, null, 4);

            document.getElementById('idDisplay').textContent = uniqueId;
            document.getElementById('jsonCode').textContent = jsonString;
        }

        // Copy JSON Code function
        function copyJson() {
            const code = document.getElementById('jsonCode').textContent;
            navigator.clipboard.writeText(code);
            
            const alertBox = document.getElementById('copyAlert');
            alertBox.style.display = 'block';
            setTimeout(() => {
                alertBox.style.display = 'none';
            }, 5000);
        }

        // Initialize with a sample ID
        document.addEventListener('DOMContentLoaded', generateJson);
    </script>
</body>
</html>
